<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/news_css.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;1,300&display=swap" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<title>News</title>
</head>
<script>
var dark = 0;
function indi()
{
const settings = {
	"async": true,
	"crossDomain": true,
	"url": "https://ms-finance.p.rapidapi.com/news/list?performanceId=0P0000OQN8",
	"method": "GET",
	"headers": {
		"x-rapidapi-host": "ms-finance.p.rapidapi.com",
		"x-rapidapi-key": "4b7e45ea30mshc52f9059608f94fp1c3b3ejsn578b2279b8e5"
	}
};

$.ajax(settings).done(function (response) {
	console.log(response);
	var re=response;
	for(var i=0;i<Object.keys(re).length;i++)
	{
			$("#news").append('<tr><td>'+re[i]["id"]+'</td><td>'+re[i]["sourceName"]+'</td><td>'+
			re[i]["providerName"]+'</td><td>'+re[i]["title"]+'</td><td>'+
			re[i]["publishedDate"]+'</td></tr>');
	}
});
}

function toggle()
{
    if(dark==0)
    {	
    	document.documentElement.setAttribute('data-theme', 'dark');
    	document.getElementById('image').src = "pictures/light.svg";
    	dark = 1;
    }
    else if (dark==1)
    {
    	document.documentElement.setAttribute('data-theme', 'light');
    	document.getElementById('image').src = "pictures/dark.svg";
    	dark = 0;
    }
}
</script>

<body onload="indi()">
	<div class="container">
		<div class="one">
			<ul class="logo">
				<li><a href="landing_logout.html" style="font-family: 'Allerta-Stencil'; font-size: 25px;">VELOCITY</a></li>
			</ul>
			<ul class="navi" style="font-weight: 500; text-transform: uppercase; font-size: 15px; color: #171717;">
				<li><a href="screeners.html">Screeners</a></li>
				<li><a href="calculator.html">Calculator</a></li>
				<li><a href="indices.html">Indices</a></li>
				<li><a href="search.html">Stocks</a></li>
			</ul>
			<ul class="login" style="font-weight: 500; text-transform: uppercase; font-size: 15px; color: #171717;">
				<li><a href="landingpage.html">Logout</a></li>
			</ul>
			<img onclick="toggle()" id="image" src="pictures/dark.svg" style="padding-top: 1%; cursor: pointer;">
		</div><!-- End of one-->

		<div class="news">
			<h2 style="text-align: center; font-family: 'Roboto', sans-serif;
			font-size: 190%; font-weight: 400">Breaking news</h2>
			<!-- <h3 style="padding-left: 5%; font-size: 140%; padding-top: 4%; font-family: 'Roboto', sans-serif; font-weight: 300">NIFTY</h3> -->
			<table id="news">
				<tr id="head">
					<th style="padding: 2%">NEWS ID </th>
					<th>SOURCE</th>
					<th>PROVIDER NAME</th>
					<th>HEADLINES</th>
					<th>PUBLISHED DATE</th>
				</tr>
			</table>
		</div>	
	</div>
</body>
</html>